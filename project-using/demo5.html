<html class="no-js" lang="en"><!--<![endif]--><!-- BEGIN HEAD --><head>

    <!--[if IE 8]> <html lang="en" class="ie8 no-js"> <![endif]-->
    <!--[if IE 9]> <html lang="en" class="ie9 no-js"> <![endif]-->
    <!--[if !IE]><!--> <!--<![endif]-->

    <!-- <meta charset="gbk"> -->
    <title>IC DEV PROFILE</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="description">
    <meta content="" name="author">
    <!-- BEGIN GLOBAL MANDATORY STYLES -->
    <link href="static/media/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="static/media/css/bootstrap-responsive.min.css" rel="stylesheet" type="text/css">
    <link href="static/media/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="static/media/css/style-metro.css" rel="stylesheet" type="text/css">
    <link href="static/media/css/style.css" rel="stylesheet" type="text/css">
    <link href="static/media/css/style-responsive.css" rel="stylesheet" type="text/css">
    <link href="static/media/css/default.css" rel="stylesheet" type="text/css" id="style_color">
    <link href="static/media/css/uniform.default.css" rel="stylesheet" type="text/css">
    <!-- END GLOBAL MANDATORY STYLES -->

    <!-- BEGIN PAGE LEVEL STYLES -->
    <link href="static/media/css/jquery.gritter.css" rel="stylesheet" type="text/css">
    <link href="static/media/css/daterangepicker.css" rel="stylesheet" type="text/css">
    <link href="static/media/css/fullcalendar.css" rel="stylesheet" type="text/css">
    <link href="static/media/css/jqvmap.css" rel="stylesheet" type="text/css" media="screen">
    <link href="static/media/css/jquery.easy-pie-chart.css" rel="stylesheet" type="text/css" media="screen">
    <!-- END PAGE LEVEL STYLES -->
    <link rel="shortcut icon" href="static/media/image/favicon.ico">

    <script src="static/media/usedJs/js/My97DatePicker/WdatePicker.js"></script><link href="static/media/usedJs/js/My97DatePicker/skin/WdatePicker.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="http://localhost:8080static/media/usedJs/layer/skin/default/layer.css?v=3.01172" id="layuicss-skinlayercss"><style type="text/css">.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}</style></head>
    <link href="static/media/css/new-style.css" rel="stylesheet" type="text/css"/>
    <!-- 新加的css -->
<body style="background-color: white;">
<!-- END HEAD -->
<!-- BEGIN BODY -->
<ol class="breadcrumb">
  <li>
      <a href="index.html">合作伙伴管理</a>
      <i class="icon-angle-right"></i>
  </li>
  <li>
      <a href="#">合作伙伴列表</a>
  </li>
</ol>
<div class='body_wrap'>
  <div class="row-fluid">
      <div class="span12">
        <div class="page-header">
          <h3>合作伙伴管理<small>Subtext for header</small></h3>
        </div>

      </div>
  </div>
  <form action="/partner/partnerList.do" method="post" class="form-horizontal">
    <div class="row-fluid top-portletBox">
        <div class="span12">
          <div class="portlet box">

            <div class="portlet-body">
                    <div class="tab-pane active" id="portlet_tab2">
                        <div class="">
                          <span class="span_input input_110">
                            <label style="width: 70px; padding-right: 10px;" class="control-label">合作伙伴：</label>
                            <input name="name" class="m-wrap span3" style="float: left;" value="" type="text">
                          </span>
                          <span class="span_input input_110">
                            <label style="width: 90px; padding-right: 10px;" class="control-label">编号：</label>
                            <input name="code" class="m-wrap span3" style="float: left;" value="" type="text">
                          </span>
                          <span class="span_input input_110">
                            <label class="control-label">当前状态：</label>
                            <select name="status" class="m-wrap" tabindex="1">
                                <option value="">全部</option>

                                <option value="PARTNERSTATUS_OPEN">合作中</option>

                                <option value="PARTNERSTATUS_CLOSE">合作终止</option>

                            </select>
                          </span>
                          <span class="span_input input_406 last_div">
                            <label style="width: 70px; padding-right: 10px;" class="control-label">创建时间：</label>
                            <input name="partnerStartTime" class="m-wrap time" value="" readonly="" disabled onclick="WdatePicker({dateFmt:'yyyy-MM-dd'})" type="text">
                            &nbsp;至&nbsp;
                            <input name="partnerEndTime" class="m-wrap time" value="" readonly="" disabled onclick="WdatePicker({dateFmt:'yyyy-MM-dd'})" type="text">

                          </span>
                        </div>
                    </div>

                    <div class="btn-group">
                        <button type="submit" class="btn blue" style="margin-right: 10px;">
                            <i class="icon-search"></i> 搜索
                        </button>
                        <button id="sample_editable_1_new" type="button" class="btn green" style="margin-right: 10px;" onclick="addPartner()">
                            <i class="icon-plus"></i> 新建合作伙伴
                        </button>
                    </div>
                    <div class='clear_box'></div>
                </div>

            </div>
            <div id="sample_1_wrapper" class="dataTables_wrapper form-inline" role="grid">
                <table class="table table-striped table-bordered table-hover dataTable" id="sample_1" aria-describedby="sample_1_info">
                    <thead>
                    <tr role="row">
                        <th class="sorting" role="columnheader" tabindex="0" aria-controls="sample_1" rowspan="1" colspan="1" style="width: 174px;" aria-label="Username: activate to sort column ascending">编号
                        </th>
                        <th class="hidden-480 sorting_disabled" role="columnheader" rowspan="1" colspan="1" style="width: 296px;" aria-label="Email">合作伙伴
                        </th>
                        <th class="hidden-480 sorting" role="columnheader" tabindex="0" aria-controls="sample_1" rowspan="1" colspan="1" style="width: 116px;" aria-label="Points: activate to sort column ascending">积分品牌
                        </th>
                        <th class="hidden-480 sorting_disabled" role="columnheader" rowspan="1" colspan="1" style="width: 172px;" aria-label="Joined">合作伙伴状态
                        </th>
                        <th class="hidden-480 sorting_disabled" role="columnheader" rowspan="1" colspan="1" style="width: 172px;" aria-label="Joined">创建人
                        </th>
                        <th class="hidden-480 sorting_disabled" role="columnheader" rowspan="1" colspan="1" style="width: 172px;" aria-label="Joined">创建时间
                        </th>
                        <th class="sorting_disabled" role="columnheader" rowspan="1" colspan="1" style="width: 277px;" aria-label="">操作</th>
                    </tr>

                    </thead>


                    <tbody role="alert" aria-live="polite" aria-relevant="all">

                    <tr class="gradeX odd">
                        <td class=" ">
                            P002414
                        </td>
                        <td class="hidden-480 ">
                            水电费水电费等
                        </td>
                        <td class="hidden-480 ">
                            E积分
                        </td>
                        <td class="center hidden-480 ">
                        </td>
                        <td class=" ">
                        </td>
                        <td class=" ">
                            2017-02-17
                        </td>
                        <td class=" ">
                            <a class="btn blue mini" href="javascript:void(0);" onclick="detailPartner(2414)">详情</a>&nbsp;
                            <a class="btn purple mini" href="javascript:void(0);" onclick="modifyPartner(2414)">修改</a>&nbsp;
                        </td>
                    </tr>

                    <tr class="gradeX odd">
                        <td class=" ">
                            P002413
                        </td>
                        <td class="hidden-480 ">
                            合作伙伴6
                        </td>
                        <td class="hidden-480 ">
                            嗨积分
                        </td>
                        <td class="center hidden-480 ">

                            合作终止
                        </td>
                        <td class=" ">

                        </td>
                        <td class=" ">
                            2017-02-17
                        </td>
                        <td class=" ">
                            <a class="btn blue mini" href="javascript:void(0);" onclick="detailPartner(2413)">详情</a>&nbsp;
                            <a class="btn purple mini" href="javascript:void(0);" onclick="modifyPartner(2413)">修改</a>&nbsp;


                            <a class="btn green mini" href="javascript:void(0);" onclick="startOrStopPartner('2413','PARTNERSTATUS_CLOSE')">
                                恢复合作
                            </a>


                        </td>
                    </tr>

                    <tr class="gradeX odd">
                        <td class=" ">
                            P002412
                        </td>
                        <td class="hidden-480 ">
                            合作伙伴6
                        </td>
                        <td class="hidden-480 ">

                        </td>
                        <td class="center hidden-480 ">
                            合作中

                        </td>
                        <td class=" ">

                        </td>
                        <td class=" ">
                            2017-02-17
                        </td>
                        <td class=" ">
                            <a class="btn blue mini" href="javascript:void(0);" onclick="detailPartner(2412)">详情</a>&nbsp;
                            <a class="btn purple mini" href="javascript:void(0);" onclick="modifyPartner(2412)">修改</a>&nbsp;

                            <a class="btn red mini" href="javascript:void(0);" onclick="startOrStopPartner('2412','PARTNERSTATUS_OPEN')">
                                终止合作
                            </a>
                        </td>
                    </tr>

                    </tbody>
                </table>

                <div class="row-fluid">
                    <div class="span6" style="width: 100%;">
                        <div class="dataTables_paginate paging_bootstrap pagination" style="margin: 0px;float: right;">
                            <ul id="page_div"><input name="pageNum" value="1" type="hidden"><li class="prev disabled"><span class="hidden-480">上一页</span></li><li class="active"><span class="hidden-480">1</span></li><li><a href="javascript:void(0);" onclick="nextPage(2)">2</a></li><li class="next"><a href="javascript:void(0);" onclick="nextPage(2);"><span class="hidden-480">下一页</span></a></li>
                                <li>
                                    <select name="pageSize" style="width: 60px; margin-left: -1px;" onchange="changeCount();">
                                        <option value="10" selected="">10</option>
                                        <option value="20">20</option>
                                        <option value="50">50</option>
                                        <option value="100">100</option>
                                    </select>
                                </li>
                                <li style="float: right;"><span class="hidden-480">共 19 页</span></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <script type="text/javascript">
                    // ��ҳ����
                    function nextPage(page){
                        document.forms[0].pageNum.value = page;
                        document.forms[0].submit();
                    }

                    // ����ÿҳ��ʾ����
                    function changeCount(){
                        document.forms[0].submit();
                    }
                </script>



            </div>
        </div>
    </div>
</form>
</div>
<!-- BEGIN JAVASCRIPTS(Load javascripts at bottom, this will reduce page load time) -->

<!-- BEGIN CORE PLUGINS -->
<script src="static/media/js/jquery-1.10.1.min.js" type="text/javascript"></script>
<script src="static/media/usedJs/js/jquery-2.0.3.min.js" type="text/javascript"></script>

<script src="static/media/js/jquery-migrate-1.2.1.min.js" type="text/javascript"></script>

<!-- IMPORTANT! Load jquery-ui-1.10.1.custom.min.js before bootstrap.min.js to fix bootstrap tooltip conflict with jquery ui tooltip -->

<script src="static/media/js/jquery-ui-1.10.1.custom.min.js" type="text/javascript"></script>

<script src="static/media/js/bootstrap.min.js" type="text/javascript"></script>

<!--[if lt IE 9]>

<script src="static/media/js/excanvas.min.js"></script>

<script src="static/media/js/respond.min.js"></script>

<![endif]-->

<script src="static/media/js/jquery.slimscroll.min.js" type="text/javascript"></script>

<script src="static/media/js/jquery.blockui.min.js" type="text/javascript"></script>

<script src="static/media/js/jquery.cookie.min.js" type="text/javascript"></script>

<script src="static/media/js/jquery.uniform.min.js" type="text/javascript"></script>

<!-- END CORE PLUGINS -->

<!-- BEGIN PAGE LEVEL PLUGINS -->

<script src="static/media/js/jquery.flot.js" type="text/javascript"></script>

<script src="static/media/js/jquery.flot.resize.js" type="text/javascript"></script>

<script src="static/media/js/jquery.pulsate.min.js" type="text/javascript"></script>

<script src="static/media/js/date.js" type="text/javascript"></script>

<script src="static/media/js/daterangepicker.js" type="text/javascript"></script>

<script src="static/media/js/jquery.gritter.js" type="text/javascript"></script>

<script src="static/media/js/fullcalendar.min.js" type="text/javascript"></script>

<script src="static/media/js/jquery.easy-pie-chart.js" type="text/javascript"></script>

<script src="static/media/js/jquery.sparkline.min.js" type="text/javascript"></script>

<!-- END PAGE LEVEL PLUGINS -->

<!-- BEGIN PAGE LEVEL SCRIPTS -->

<script src="static/media/js/app.js" type="text/javascript"></script>

<script src="static/media/js/index.js" type="text/javascript"></script>

<script src="static/media/usedJs/js/blockUI.min.js"></script>
<script src="static/media/usedJs/js/jquery.form.js"></script>
<script src="static/media/usedJs/js/validation.js"></script>
<script src="static/media/usedJs/js/main.controller.js"></script>

<script src="static/media/usedJs/layer/layer.js"></script>
<script src="static/media/usedJs/js/layerCommon/layerCommon.js"></script>
<!-- END PAGE LEVEL SCRIPTS -->
<script>
    //    jQuery(document).ready(function() {

    App.init(); // initlayout and core plugins

    Index.init();

    Index.initJQVMAP(); // init index page's custom scripts

    Index.initCalendar(); // init index page's custom scripts

    Index.initCharts(); // init index page's custom scripts

    Index.initChat();

    Index.initMiniCharts();

    Index.initDashboardDaterange();

    Index.initIntro();

    //    });

</script>



<script type="text/javascript">
    //��ѯ
    function bt_query() {
        document.forms[0].submit();
    }
    //������������
    function addPartner(){
        window.location.href="/partner/toPartnerAdd.do";
    }
    //�޸ĺ�������
    function modifyPartner(id){
        window.location.href="/partner/toPartnerModify.do?id="+id;
    }
    //����
    function detailPartner(id){
        window.location.href="/partner/toPartnerDetail.do?id="+id;
    }
    //������ֹ���ָ�����
    function startOrStopPartner(id,status){
        layer.confirm("�Ƿ�ȷ�ϸò�����",
                {
                    title: "��ʾ",
                    offset: '100px',
                    icon: 3
                },
                function(index){
                    updatePartnerStatus(id,status);
                    layer.close(index);
                });
    }
    // �޸ĺ�������״̬
    function updatePartnerStatus(id,status){
        if(status=="PARTNERSTATUS_OPEN"){
            status="PARTNERSTATUS_CLOSE";
        }
        else if(status=="PARTNERSTATUS_CLOSE"){
            status="PARTNERSTATUS_OPEN";
        }

        var paramData = {
            'id': id,
            'status': status
        };
        $.ajax({
            type: "post",
            contentType: 'application/json',
            url: "/partner/updatePartnerStatus.do",
            async: false,
            data: JSON.stringify(paramData),
            dataType: 'json',
            success: function (data) {
                if (data.code == "SUCCESS") {
                    /*layer.alert('���óɹ�', {
                     title: "��ʾ",
                     offset: '100px',
                     icon: 6,
                     skin: 'layer-ext-moon'
                     , closeBtn: 0
                     }, function () {
                     bt_query();
                     });*/
                    layerMsg("�޸ĳɹ���",1000);
                    bt_query();
                }
                else {
                    layerAlert("�޸�ʧ��","��ʾ",5);
                }
            },
            error: function () {
                layerAlert("ϵͳ����","��ʾ",5);
            }
        });
    }
</script>
</body></html>
